var T=Object.defineProperty,I=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var v=(e,o,i)=>o in e?T(e,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[o]=i,N=(e,o)=>{for(var i in o||(o={}))$.call(o,i)&&v(e,i,o[i]);if(b)for(var i of b(o))E.call(o,i)&&v(e,i,o[i]);return e},p=(e,o)=>I(e,S(o));var C=(e,o,i)=>new Promise((n,l)=>{var g=s=>{try{r(i.next(s))}catch(t){l(t)}},d=s=>{try{r(i.throw(s))}catch(t){l(t)}},r=s=>s.done?n(s.value):Promise.resolve(s.value).then(g,d);r((i=i.apply(e,o)).next())});import{Z as x,b7 as y,b8 as O}from"./index-3efa3bcd.js";import{i as A}from"./icon-f6cbc454.js";var a=(e=>(e.DELETE="delete",e.WARNING="warning",e.ERROR="error",e.SUCCESS="success",e.COPY="copy",e))(a||{});const{InformationCircleIcon:G}=A.ionicons5,u=()=>{window.$loading.start()},j=()=>{setTimeout(()=>{window.$loading.finish()})},z=()=>{setTimeout(()=>{window.$loading.error()})},L=e=>{const{type:o,title:i,message:n,positiveText:l,negativeText:g,closeNegativeText:d,isMaskClosable:r,onPositiveCallback:s,onNegativeCallback:t,promise:k,promiseResCallback:m,promiseRejCallback:f}=e,R={[a.DELETE]:{fn:window.$dialog.warning,message:n||"是否删除此数据?"},[a.COPY]:{fn:window.$dialog.warning,message:n||"是否要复制此数据?"},[a.WARNING]:{fn:window.$dialog.warning,message:n||"是否执行此操作?"},[a.ERROR]:{fn:window.$dialog.error,message:n||"是否执行此操作?"},[a.SUCCESS]:{fn:window.$dialog.success,message:n||"是否执行此操作?"}},c=R[o||a.WARNING].fn(p(N({},e),{title:i||"提示",icon:x(G,{size:O}),content:R[o||a.WARNING].message,positiveText:l||"确定",negativeText:d?void 0:g||"取消",maskClosable:r||y,onPositiveClick:()=>C(void 0,null,function*(){if(k&&s){c.loading=!0;try{const w=yield s();m&&m(w)}catch(w){f&&f(w)}c.loading=!1;return}s&&s(c)}),onNegativeClick:()=>C(void 0,null,function*(){t&&t(c)})}))};export{a as D,u as a,j as b,L as g,z as l};

import{d as Q,$ as X,j as ee,l as v,Z as a,a1 as h,r,o as n,D as c,w as t,b as o,u as b,c as A,F as H,q as I,E as B,n as u,t as m,e as te,b9 as oe,h as se}from"./index-3efa3bcd.js";import{g as ne}from"./plugin-52ae8d1b.js";import{i as L}from"./icon-f6cbc454.js";import{u as ae}from"./useKeyboard.hook-875fbcac.js";import{u as re}from"./useSync.hook-e4169a36.js";import{u as ce,a as le,H as d}from"./chartEditStore-1e6a587f.js";import{u as w,C as p}from"./chartLayoutStore-db3d2e1b.js";import"./index-a77faccb.js";import"./SettingItem-aacbe70b.js";/* empty css                                                                      */import"./SettingItemBox-94318b9b.js";import"./CollapseItem.vue_vue_type_script_setup_true_lang-bd202dab.js";import"./index.esm.min-21e18cb2.js";import"./fileTypeEnum-21359a08.js";import"./project.api-31a95c84.js";const ie={class:"save-btn"},ue=Q({__name:"index",setup(de){const{LayersIcon:x,BarChartIcon:D,PrismIcon:E,HomeIcon:T,ArrowBackIcon:F,ArrowForwardIcon:R}=L.ionicons5,{SaveIcon:K}=L.carbon,{setItem:z}=w(),{dataSyncUpdate:$}=re(),{getLayers:N,getCharts:V,getDetails:q}=X(w()),y=ce(),k=le(),_=ee(""),O=v([{key:p.CHARTS,select:V,title:"图表组件",icon:a(D)},{key:p.LAYERS,select:N,title:"图层控制",icon:a(x)},{key:p.DETAILS,select:q,title:"详情设置",icon:a(E)}]),P=h(()=>k.getBackStack.length>1),U=h(()=>k.getForwardStack.length>0),W=v([{key:d.BACK_STACK,select:P,title:"后退",icon:a(F)},{key:d.FORWARD_STACK,select:U,title:"前进",icon:a(R)}]),j=()=>{_.value="正在保存数据中...",$(),setTimeout(()=>{_.value=""},5e3)},M=s=>s.key===p.DETAILS?s.select?"":"primary":s.select?"primary":"",Y=s=>{z(s.key,!s.select)},Z=s=>{switch(s.key){case d.BACK_STACK:y.setBack();break;case d.FORWARD_STACK:y.setForward();break}},G=()=>{ne({message:"确定已保存了数据（Ctrl / ⌘ + S），并返回到首页吗？",isMaskClosable:!0,onPositiveCallback:()=>{oe(),ae()}})};return(s,l)=>{const f=r("n-icon"),i=r("n-button"),g=r("n-tooltip"),C=r("n-divider"),S=r("n-space");return n(),c(S,{class:"header-left-btn",size:25},{default:t(()=>[o(i,{size:"small",quaternary:"",onClick:l[0]||(l[0]=e=>G())},{icon:t(()=>[o(f,{depth:3},{default:t(()=>[o(b(T))]),_:1})]),_:1}),o(S,null,{default:t(()=>[(n(!0),A(H,null,I(O,e=>(n(),c(g,{key:e.key,placement:"bottom",trigger:"hover"},{trigger:t(()=>[o(i,{size:"small",ghost:"",type:M(e),focusable:!1,onClick:J=>Y(e)},{default:t(()=>[(n(),c(B(e.icon)))]),_:2},1032,["type","onClick"])]),default:t(()=>[u("span",null,m(e.title),1)]),_:2},1024))),128)),o(C,{vertical:""}),(n(!0),A(H,null,I(W,e=>(n(),c(g,{key:e.key,placement:"bottom",trigger:"hover"},{trigger:t(()=>[o(i,{size:"small",ghost:"",type:"primary",disabled:!e.select,onClick:J=>Z(e)},{default:t(()=>[(n(),c(B(e.icon)))]),_:2},1032,["disabled","onClick"])]),default:t(()=>[u("span",null,m(e.title),1)]),_:2},1024))),128)),o(C,{vertical:""}),u("div",ie,[o(i,{size:"small",type:"primary",ghost:"",onClick:l[1]||(l[1]=e=>j())},{icon:t(()=>[o(f,null,{default:t(()=>[o(b(K),null,{default:t(()=>[te("保存")]),_:1})]),_:1})]),_:1}),u("span",null,"　"+m(_.value),1)])]),_:1})]),_:1})}}});const Be=se(ue,[["__scopeId","data-v-d4750784"]]);export{Be as default};
